/*
 * wm8850-w70v2.dts
 *  - Device tree file for Wondermedia WM8850 Tablet
 *  - 'W70-V2' mainboard
 *  - HongLianYing 'HLY070ML268-21A' 7" LCD panel
 *
 * Copyright (C) 2012 Tony Prisk <linux@prisktech.co.nz>
 *
 * Licensed under GPLv2 or later
 */

/dts-v1/;
/include/ "wm8850.dtsi"

/ {
	model = "Wondermedia WM8850-W70v2 Tablet";

	backlight {
		compatible = "pwm-backlight";
		pwms = <&pwm 0 50000 1>;	/* duty inverted */

		brightness-levels = <0 40 60 80 100 130 190 255>;
		default-brightness-level = <5>;
	};

	powerkey: pwrkey@0 {
		compatible = "wm,power-keypad";
		interrupt-parent = <&intc0>;
		interrupts = <22>;
		keymap = <116>; /* KEY_POWER */
	};
};

&nand {
	nand-ecc-mode = "hw";
	nand-bus-width = <8>;
	nand-on-flash-bbt;

	partition@0 {
		label = "logo";
		reg = <0x00000000 0x1000000>;
	};
	partition@1000000 {
		label = "boot";
		reg = <0x01000000 0x1000000>;
	};
	partition@2000000 {
		label = "recovery";
		reg = <0x02000000 0x1000000>;
	};
	partition@3000000 {
		label = "misc";
		reg = <0x03000000 0x1000000>;
	};
	partition@4000000 {
		label = "system";
		reg = <0x04000000 0x20000000>;
	};
	partition@24000000 {
		label = "cache";
		reg = <0x24000000 0x20000000>;
	};
	partition@44000000 {
		label = "data";
		reg = <0x44000000 0x20000000>;
	};
	partition@64000000 {
		label = "LocalDisk";
		reg = <0x64000000 0x1C000000>;
	};
};

&fb {
	bits-per-pixel = <16>;
	display-timings {
		native-mode = <&timing0>;
		timing0: 800x480 {
			clock-frequency = <33000000>;
			hactive = <800>;
			vactive = <480>;
			hfront-porch = <40>;
			hback-porch = <88>;
			hsync-len = <0>;
			vback-porch = <32>;
			vfront-porch = <11>;
			vsync-len = <1>;
		};
	};
};

&pinctrl {
	pinctrl-names = "default";
	pinctrl-0 = <&i2c>;

	i2c: i2c {
		wm,pins = <168 169 170 171 172 173>;
		wm,function = <2>;	/* alt */
		wm,pull = <2>;	/* pull-up */
	};
};

&uart0 {
	status = "okay";
};
